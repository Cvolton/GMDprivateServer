/*! imgcolr v1.0.1 | Sway Deng | MIT */
!function(a,b){function c(a,c,d){var f=b(a),g=f.data("imgcolrIgnore"),h={url:a.src};"object"==typeof c&&(d=c,c=void 0),d=b.extend(h,d),"string"==typeof g&&(d.ignore=g),d.success=function(b){var d="function"==typeof c?c.call(a,a,b.color):"string"==typeof c?f.parents(c):f.parent();d&&d.jquery&&d.css("backgroundColor",b.color)},e.color(d)}var d=a.Imgcolr,e={},f={},g=document.createElement("canvas"),h="t",i="r",j="b",k="l",l=function(a){var c=f[a];return c||(c=b.Deferred(),f[a]=c),c},m=function(a){var b=a.toString(16);return 1===b.length?"0"+b:b},n=function(a,b,c){return["#",m(a),m(b),m(c)].join("")},o=function(a,b,c){var d,e=b[a+3];127>e||(d=n(b[a],b[a+1],b[a+2]),c[d]?c[d]++:c[d]=1)},p=function(a,b,c,d,e){var f,g;if(a===h||a===j)for(g=a===h?0:d-1,f=0;c>f;f++)o(4*(g*c+f),e,b);else for(d-=1,f=a===i?c-1:0,g=1;d>g;g++)o(4*(g*c+f),e,b)},q=function(a,b){var c,d,e,f="#ffffff",l=0,m={},n=a.width,o=a.height,q=g.getContext("2d");g.width=n,g.height=o,q.drawImage(a,0,0),c=q.getImageData(0,0,n,o).data,b.indexOf(h)<0&&p(h,m,n,o,c),b.indexOf(i)<0&&p(i,m,n,o,c),b.indexOf(j)<0&&p(j,m,n,o,c),b.indexOf(k)<0&&p(k,m,n,o,c);for(d in m)e=m[d],e>l&&(f=d,l=e);return f},r=function(a,b){var c=new Image,d={url:a,ignore:b};c.onload=function(){try{d.color=q(this,b),l(a).resolve(d)}catch(e){l(a).reject(d)}c=null},c.onerror=function(){c.onerror=null,c=null,l(a).reject(d)},c.crossOrigin="",c.src=a};e.color=function(a){var b=l(a.url);"function"==typeof a.success&&b.done(a.success),"function"==typeof a.error&&b.fail(a.error),"pending"===b.state()&&r(a.url,"string"==typeof a.ignore?a.ignore:"")},e.noConflict=function(){return a.Imgcolr=d,e},a.Imgcolr=e;var s="imgcolr";b.fn[s]=function(a,b){return this.each(function(){new c(this,a,b)})}}(this,jQuery);